{% extends "base.html" %}
{% load pages_tags mezzanine_tags i18n future staticfiles %}
{% block extra_css %}
    <link rel="stylesheet" href="{% static "css/galleries.css" %}"/>
{% endblock %}

{% block main %}
    {{ block.super }}

    <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
        <!-- Indicators -->
{#        <ol class="carousel-indicators">#}
{#            <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>#}
{#            <li data-target="#carousel-example-generic" data-slide-to="1"></li>#}
{#            <li data-target="#carousel-example-generic" data-slide-to="2"></li>#}
{#        </ol>#}

        <!-- Wrapper for slides -->
        <div class="carousel-inner" role="listbox">
            {% with page.gallery.images.all as images %}
                {% for image in images %}
                    <div class="item {% if forloop.first %}active{% endif %}">
                        <img class="img-responsive" src="{{ image.file.url }}">
                        <div class="carousel-caption">
                            {{ image.description }}
                        </div>
                    </div>
                {% endfor %}
            {% endwith %}
        </div>
    </div>

    <!-- Controls -->
    <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right"></span>
        <span class="sr-only">Next</span>
    </a>

    <div class="thumbnails row">
        {% with page.gallery.images.all as images %}
            {% for image in images %}
                <div class="col-xs-4 col-sm-2">
                    <a class="thumbnail" rel="#image-{{ image.id }}" title="{{ image.description }}">
                        <img class="img-responsive" src="{{ MEDIA_URL }}{% thumbnail image.file 200 150 %}">
                    </a>
                </div>
            {% endfor %}
        {% endwith %}
    </div>
{% endblock %}

{% block extra_js %}
    {{ block.super }}
{% endblock %}
